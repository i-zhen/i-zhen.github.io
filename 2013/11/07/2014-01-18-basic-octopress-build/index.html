<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Octopress的搭建与撰写 | Z.Y. ☯ Cosmos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="维护自己的日志是一个很有意思的活动，我第一次接触个人独立Blog是在高三的的下学期，因为大学有了着落，借此机会抛弃掉以前的什么XX空间，就把Blog搬到了 WordPress 上，还为此买了虚拟主机和域名（对于个人网站来说备案真是一件既麻烦又浪费时间的事儿）。但是呢，移植完文章后的很长一段时间都没有好好更新，域名到期后就关闭掉那个旧的Blog了。">
<meta property="og:type" content="article">
<meta property="og:title" content="Octopress的搭建与撰写">
<meta property="og:url" content="https://izhen.me/2013/11/07/2014-01-18-basic-octopress-build/index.html">
<meta property="og:site_name" content="Z.Y. ☯ Cosmos">
<meta property="og:description" content="维护自己的日志是一个很有意思的活动，我第一次接触个人独立Blog是在高三的的下学期，因为大学有了着落，借此机会抛弃掉以前的什么XX空间，就把Blog搬到了 WordPress 上，还为此买了虚拟主机和域名（对于个人网站来说备案真是一件既麻烦又浪费时间的事儿）。但是呢，移植完文章后的很长一段时间都没有好好更新，域名到期后就关闭掉那个旧的Blog了。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://izhen.me/image/octopress.jpg">
<meta property="article:published_time" content="2013-11-07T13:46:00.000Z">
<meta property="article:modified_time" content="2016-08-14T01:48:06.000Z">
<meta property="article:author" content="Zhen Yi">
<meta property="article:tag" content="Octopress">
<meta property="article:tag" content="Phase">
<meta property="article:tag" content="Markdown">
<meta property="article:tag" content="Ruby">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://izhen.me/image/octopress.jpg">
<meta name="twitter:creator" content="@soczhenyi">
  
    <link rel="alternate" href="/atom.xml" title="Z.Y. ☯ Cosmos" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Z.Y. ☯ Cosmos</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Powered by Disqus, scientific surfing for access</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" target="_blank" rel="noopener" href="http://ec2-13-231-164-97.ap-northeast-1.compute.amazonaws.com">λ</a>
        
          <a class="main-nav-link" href="/lab">About</a>
        
          <a class="main-nav-link" target="_blank" rel="noopener" href="https://resume.izhen.me">Resume</a>
        
          <a class="main-nav-link" target="_blank" rel="noopener" href="https://github.com/i-zhen">Github</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://izhen.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-2014-01-18-basic-octopress-build" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2013/11/07/2014-01-18-basic-octopress-build/" class="article-date">
  <time class="dt-published" datetime="2013-11-07T13:46:00.000Z" itemprop="datePublished">2013-11-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Blog/">Blog</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Octopress的搭建与撰写
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/image/octopress.jpg" alt="Octopress"></p>
<p>维护自己的日志是一个很有意思的活动，我第一次接触个人独立Blog是在高三的的下学期，因为大学有了着落，借此机会抛弃掉以前的什么XX空间，就把Blog搬到了 <a target="_blank" rel="noopener" href="http://wordpress.com/">WordPress</a> 上，还为此买了虚拟主机和域名（<del>对于个人网站来说备案真是一件既麻烦又浪费时间的事儿</del>）。但是呢，移植完文章后的很长一段时间都没有好好更新，域名到期后就关闭掉那个旧的Blog了。</p>
<span id="more"></span>

<p>所以这个 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> 是时隔很长时间的第二个个人独立Blog，不同的是这个press只能Geek用，一般用户不会用。第二点，我没有买虚拟主机只买了域名，整个Blog托管在 <a target="_blank" rel="noopener" href="https://github.com/">Github</a> 上。此前，我用 <a target="_blank" rel="noopener" href="http://wordpress.com/">Wordpress</a> 最大的感触就是臃肿，其Bug一样的富文本编辑器弄得我的格式混乱不堪，不过最为重要的是使用 <a target="_blank" rel="noopener" href="http://wordpress.com/">Wordpress</a> 不够酷炫，不能令我一直心动。</p>
<p>而且我没有那么多功能需要使用。Blog无非就是放上一篇有文有图的文章，加上个评论，足矣。</p>
<blockquote>
<p>A blogging framework for hackers.</p>
</blockquote>
<p>这是 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> 自己的宣传，我觉得真正的Hacker会自己弄一个Blog，起码会用 <a target="_blank" rel="noopener" href="http://jekyllrb.com/">Jekyll</a> 甚至是 <a target="_blank" rel="noopener" href="http://jaspervdj.be/hakyll/" title="基于Haskell模仿Jekyll的blog系统">Hakyll</a> (原理大同小异)，那么我们这些使用 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> 的用户算是初级的Geek这种程度吧。不说这些了，轻量的Blog用起来确实比 <a target="_blank" rel="noopener" href="http://wordpress.com/">Wordpress</a> 酷炫多了。接下来我会一步一步说明如何在MAC OS X中搭建这个日志系统：</p>
<p>第一步是最重要的一步：我们要弄清楚octopress的运行环境是在 <a target="_blank" rel="noopener" href="https://www.ruby-lang.org/zh_cn/">ruby</a> -1.9.2以上的版本中，但是在OS X 10.9中已经安装了2.0版本，亲自实验，如果使用过高的版本会产生无法正确生成静态页面的问题。我们要安装一个低版本，这里推荐1.9.3，然后我们说明如何多版本共存：</p>
<h3 id="先安装Ruby-1-9-3"><a href="#先安装Ruby-1-9-3" class="headerlink" title="先安装Ruby-1.9.3"></a><strong>先安装Ruby-1.9.3</strong></h3><p>1.安装 <a target="_blank" rel="noopener" href="https://itunes.apple.com/cn/app/xcode/id497799835?mt=12">Xcode</a> ，这是为了以后安装需要编译。</p>
<p>2.安装 <a target="_blank" rel="noopener" href="https://github.com/Homebrew/homebrew">Homebrew</a> ，非常推荐这个包管理，以后我们就多多利用它了：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>curl -L <span class="symbol">http:</span>/<span class="regexp">/github.com/mxcl</span><span class="regexp">/homebrew/tarball</span><span class="regexp">/master | tar xz –strip 1 -C /usr</span><span class="regexp">/local</span></span><br><span class="line"><span class="regexp">$ export PATH=/usr</span><span class="regexp">/local/bin</span><span class="symbol">:</span>$PATH</span><br></pre></td></tr></table></figure>

<p>3.安装 <a target="_blank" rel="noopener" href="http://rvm.io/">rvm</a> ，这是一个很出色的 <a target="_blank" rel="noopener" href="https://www.ruby-lang.org/zh_cn/">Ruby</a> 包管理软件，同时安装1.9.3并设定为默认版本：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>\curl -sSL <span class="symbol">https:</span>/<span class="regexp">/get.rvm.io | bash -s stable</span></span><br><span class="line"><span class="regexp">$ rvm install 1.9.3</span></span><br><span class="line"><span class="regexp">$ rvm use 1.9.3 --default </span></span><br></pre></td></tr></table></figure>

<h3 id="好的，接下来是Octopress"><a href="#好的，接下来是Octopress" class="headerlink" title="好的，接下来是Octopress"></a><strong>好的，接下来是Octopress</strong></h3><p>1.一般情况下最新的 OS X 已经包含 <a target="_blank" rel="noopener" href="http://git-scm.com/">Git</a> ，我们直接安装 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> ：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git clone <span class="symbol">git:</span>/<span class="regexp">/github.com/imathis</span><span class="regexp">/octopress.git octopress</span></span><br></pre></td></tr></table></figure>

<p>2.安装 <a target="_blank" rel="noopener" href="https://github.com/sstephenson/rbenv">rbenv</a> ，可以理解为同样是一种包管理：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>brew install rbenv</span><br><span class="line"><span class="variable">$ </span>brew install ruby-build</span><br><span class="line"><span class="variable">$ </span>rbenv rehash</span><br></pre></td></tr></table></figure>

<p>3.安装必要插件：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>cd octopress</span><br><span class="line"><span class="variable">$ </span>gem install bundler</span><br><span class="line"><span class="variable">$ </span>bundle install</span><br><span class="line"><span class="variable">$ </span>rbenv rehash</span><br></pre></td></tr></table></figure>

<p>4.安装主题：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>rake install</span><br></pre></td></tr></table></figure>

<p>按照上面的步骤去做就全部安装完毕，接下来是如何生成与发布，但是再次之前，如果你的算把博客安置在 <a target="_blank" rel="noopener" href="https://github.com/">Github</a> 上面，我们有必要的一步要做。</p>
<h3 id="发布准备与部署"><a href="#发布准备与部署" class="headerlink" title="发布准备与部署"></a><strong>发布准备与部署</strong></h3><p>1.本机创建ssh:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>cd ~<span class="regexp">/.ssh</span></span><br><span class="line"><span class="regexp">$ ssh-keygen -t rsa -C 你注册github用的邮箱地址</span></span><br></pre></td></tr></table></figure>

<p>按照提示一步一步来，最后获得ssh后把它添加到你的 <a target="_blank" rel="noopener" href="https://github.com/">github</a> 账户中去，可以参考<a target="_blank" rel="noopener" href="https://help.github.com/articles/generating-ssh-keys">这个</a>链接。</p>
<p>然后你需要测试是否成功：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>ssh -T git<span class="variable">@github</span>.com</span><br></pre></td></tr></table></figure>

<p>返回如下提示就成功了：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>Hi username! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure>

<p>2.建立一个仓库后我们开始部署，按照提示输入你的仓库网址：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>rake setup_github_pages</span><br></pre></td></tr></table></figure>

<p>3.生成博客资料：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>rake generate</span><br></pre></td></tr></table></figure>

<p>4.把source(原始文件)传上去：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>git add .</span><br><span class="line"><span class="variable">$ </span>git commit -m <span class="string">&#x27;your message&#x27;</span></span><br><span class="line"><span class="variable">$ </span>git push origin source</span><br></pre></td></tr></table></figure>

<p>注意那个origin可以为你想起的任何名字。</p>
<p>5.上传正式发布的博客：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>rake deploy</span><br></pre></td></tr></table></figure>

<p>有可能会遇到上传不成功的情况，这个时候需要在项目的<code>.git/config</code>目录中添加如下代码，必要时可以重新启动系统(<del>怎么有M$的遗风</del>)：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[branch <span class="string">&quot;master&quot;</span>]</span><br><span class="line"> remote = origin</span><br><span class="line"> merge = refs/heads/master</span><br></pre></td></tr></table></figure>

<p>好了，到此为止你就可以发布一个博客了，注意到，如果想要自定义自己的域名要在<code>source/CNAME</code>中添加你的一级域名，比如<code>izhen.me</code>，同时在你的域名服务商那里添加一条A记录，有关具体的地址内容请到 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> 中查看文档，遵守官方指示：不要使用CNAME记录。</p>
<h3 id="文章撰写与分页"><a href="#文章撰写与分页" class="headerlink" title="文章撰写与分页"></a><strong>文章撰写与分页</strong></h3><p>1.创建一篇新文章，默认在<code>source/_posts</code>中，以<code>markdown</code>格式存在：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>rake new_post[<span class="string">&#x27;your-title&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>2.用文本编辑器，这里推荐 <a target="_blank" rel="noopener" href="http://mouapp.com/">Mou</a> 来打开新创建的文件，并且使用Markdown来撰写文章，其中有关于标签分类，这里说明下有以下几种格式：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 分类形式1</span></span><br><span class="line"><span class="symbol">categories:</span> [Octopress, Phase, Markdown, Ruby, Git]</span><br><span class="line"><span class="comment"># 分类形式2</span></span><br><span class="line"><span class="symbol">categories:</span> Octopress, Phase, Markdown, Ruby, Git</span><br><span class="line"><span class="comment"># 分类形式3</span></span><br><span class="line"><span class="symbol">categories:</span> </span><br><span class="line">- Octopress</span><br><span class="line">- Phase</span><br><span class="line">- Markdown</span><br></pre></td></tr></table></figure>

<p>3.分页：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 标准分页</span></span><br><span class="line"><span class="variable">$ </span>rake new_page[your-page]</span><br><span class="line"><span class="comment"># 创建子分页</span></span><br><span class="line"><span class="variable">$ </span>rake new_page[your-page/sub-page.html]</span><br></pre></td></tr></table></figure>

<p>然后要让这个分页的链接显示在主页上面需要在<code>source/_include/custom/navigation.html</code>中自行添加链接。</p>
<p>要达到「详细内容」的效果，使用<code>&lt;!-- more --&gt;</code>标记就可以了。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a><strong>总结</strong></h3><p>这里只是草草介绍了如何搭建和简单的写作，感觉很简洁，没有太多累赘，页面也是静态的，诸如评论等内容需要额外配置<code>_config.yml</code>。写文章使用<code>Markdown</code>这一点真是太好了， <a target="_blank" rel="noopener" href="http://wordpress.com/">Wordpress</a> 的富文本编辑器实在是…</p>
<p>不过，这里没有讲解如何具体写文章，但是也非常简单，可以参考文档去查阅相关资料，如果想要更进一步了解比如自定义博客主题，也请多多学习文档，推荐刚入门的朋友们来学习使用 <a target="_blank" rel="noopener" href="http://octopress.org/">Octopress</a> 。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://izhen.me/2013/11/07/2014-01-18-basic-octopress-build/" data-id="cktfbjvf40003midx34om9qtp" data-title="Octopress的搭建与撰写" class="article-share-link">Share</a>
      
        <a href="https://izhen.me/2013/11/07/2014-01-18-basic-octopress-build/#disqus_thread" class="article-comment-link">Comments</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Octopress/" rel="tag">Octopress</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Phase/" rel="tag">Phase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ruby/" rel="tag">Ruby</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/01/04/2014-01-18-basic-skill-computer/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          计算机界的无上心法
        
      </div>
    </a>
  
  
    <a href="/2013/05/26/usaco_612/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">USACO 6.1.2 Vans</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Zhen Yi<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
      <br>
      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      <span class="site-uv">用户访问: <span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
      <span class="site-pv">本站访问: <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a target="_blank" rel="noopener" href="http://ec2-13-231-164-97.ap-northeast-1.compute.amazonaws.com" class="mobile-nav-link">λ</a>
  
    <a href="/lab" class="mobile-nav-link">About</a>
  
    <a target="_blank" rel="noopener" href="https://resume.izhen.me" class="mobile-nav-link">Resume</a>
  
    <a target="_blank" rel="noopener" href="https://github.com/i-zhen" class="mobile-nav-link">Github</a>
  
</nav>
    
<script>
  var disqus_shortname = 'izhen';
  
  var disqus_url = 'https://izhen.me/2013/11/07/2014-01-18-basic-octopress-build/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>